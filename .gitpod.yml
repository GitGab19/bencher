# https://www.gitpod.io/docs/references/gitpod-yml

# Commands to start on workspace startup
tasks:
  - name: Rust Setup
    before: rustup component add rustfmt
    init: cargo check
    command: cd services/api && cargo run
  - name: JavaScript Setup
    init: cd services/ui && npm install --include=dev && cd ../..
    command: cd services/ui && npm x vite

# Ports to expose on workspace startup
ports:
  - name: Bencher API
    port: 61016
    onOpen: open-browser
  - name: Bencher UI
    port: 3000
    onOpen: open-browser
  - name: Vite HMR
    port: 3001


